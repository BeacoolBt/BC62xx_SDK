   1              		.syntax unified
   2              		.cpu cortex-m0
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 34, 0
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.syntax unified
  15              		.file	"ali_config.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.comm	L_LEV,4,4
  20              		.align	1
  21              		.global	ali_config_uuid_read
  22              		.code	16
  23              		.thumb_func
  25              	ali_config_uuid_read:
  26              	.LFB85:
  27              		.file 1 "../../../mesh/app/ali_config.c"
   1:../../../mesh/app/ali_config.c **** /**
   2:../../../mesh/app/ali_config.c **** *****************************************************************************************
   3:../../../mesh/app/ali_config.c **** *     Copyright(c) 2015, Beken. All rights reserved.
   4:../../../mesh/app/ali_config.c **** *****************************************************************************************
   5:../../../mesh/app/ali_config.c ****   * @file     user_config.c
   6:../../../mesh/app/ali_config.c ****   * @brief    Source file for user data.
   7:../../../mesh/app/ali_config.c ****   * @details  Load and store user data to flash.
   8:../../../mesh/app/ali_config.c ****   * @author   gang.cheng
   9:../../../mesh/app/ali_config.c ****   * @date     2018-12-20
  10:../../../mesh/app/ali_config.c ****   * @version  v1.0
  11:../../../mesh/app/ali_config.c ****   * *************************************************************************************
  12:../../../mesh/app/ali_config.c ****   */
  13:../../../mesh/app/ali_config.c **** 
  14:../../../mesh/app/ali_config.c **** 
  15:../../../mesh/app/ali_config.c **** #include "ali_config.h"
  16:../../../mesh/app/ali_config.c **** #include <string.h>
  17:../../../mesh/app/ali_config.c **** #include "portBle.h"
  18:../../../mesh/app/ali_config.c **** #include "port.h"
  19:../../../mesh/app/ali_config.c **** 
  20:../../../mesh/app/ali_config.c **** #include "bc_sys.h"
  21:../../../mesh/app/ali_config.c **** 
  22:../../../mesh/app/ali_config.c **** 
  23:../../../mesh/app/ali_config.c **** static ali_cfg_t* p_ali_cfg;
  24:../../../mesh/app/ali_config.c **** 
  25:../../../mesh/app/ali_config.c **** bool ali_config_uuid_read(ali_uuid_t *uuid)
  26:../../../mesh/app/ali_config.c **** {
  28              		.loc 1 26 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 8
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              	.LVL0:
  33 0000 73B5     		push	{r0, r1, r4, r5, r6, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 24
  36              		.cfi_offset 0, -24
  37              		.cfi_offset 1, -20
  38              		.cfi_offset 4, -16
  39              		.cfi_offset 5, -12
  40              		.cfi_offset 6, -8
  41              		.cfi_offset 14, -4
  42              		.loc 1 26 0
  43 0002 0400     		movs	r4, r0
  27:../../../mesh/app/ali_config.c **** 	/** set device uuid */
  28:../../../mesh/app/ali_config.c **** 	uint8_t mac[FLASH_ALI_MAC_ADDR_LEN];
  29:../../../mesh/app/ali_config.c **** 	ali_config_mac_read(mac,0);
  44              		.loc 1 29 0
  45 0004 0021     		movs	r1, #0
  46 0006 6846     		mov	r0, sp
  47              	.LVL1:
  48 0008 FFF7FEFF 		bl	ali_config_mac_read
  49              	.LVL2:
  30:../../../mesh/app/ali_config.c **** 
  31:../../../mesh/app/ali_config.c **** 	memcpy(uuid->mac_addr, mac, FLASH_ALI_MAC_ADDR_LEN);
  50              		.loc 1 31 0
  51 000c 6946     		mov	r1, sp
  52 000e E01D     		adds	r0, r4, #7
  53 0010 0622     		movs	r2, #6
  54 0012 FFF7FEFF 		bl	memcpy
  55              	.LVL3:
  32:../../../mesh/app/ali_config.c **** 	uuid->cid = ALI_CID;
  56              		.loc 1 32 0
  57 0016 5823     		movs	r3, #88
  33:../../../mesh/app/ali_config.c **** 	uuid->pid.adv_ver = BLE_VER_4_2;
  58              		.loc 1 33 0
  59 0018 0F22     		movs	r2, #15
  32:../../../mesh/app/ali_config.c **** 	uuid->cid = ALI_CID;
  60              		.loc 1 32 0
  61 001a 0125     		movs	r5, #1
  62 001c 5B42     		rsbs	r3, r3, #0
  63 001e 2370     		strb	r3, [r4]
  64              		.loc 1 33 0
  65 0020 A378     		ldrb	r3, [r4, #2]
  32:../../../mesh/app/ali_config.c **** 	uuid->cid = ALI_CID;
  66              		.loc 1 32 0
  67 0022 6570     		strb	r5, [r4, #1]
  68              		.loc 1 33 0
  69 0024 9343     		bics	r3, r2
  34:../../../mesh/app/ali_config.c **** 	uuid->pid.sec = SEC_ONE_DEV_ONE_SECRET;
  70              		.loc 1 34 0
  71 0026 2B43     		orrs	r3, r5
  35:../../../mesh/app/ali_config.c **** 	uuid->pid.ota = OTA_UNSUPPORT;
  72              		.loc 1 35 0
  73 0028 5219     		adds	r2, r2, r5
  74 002a 1343     		orrs	r3, r2
  36:../../../mesh/app/ali_config.c **** 	uuid->pid.bt_ver = BLE_ADV_VER;
  75              		.loc 1 36 0
  76 002c 0F32     		adds	r2, r2, #15
  77 002e 1340     		ands	r3, r2
  78 0030 2132     		adds	r2, r2, #33
  79 0032 1343     		orrs	r3, r2
  80 0034 A370     		strb	r3, [r4, #2]
  37:../../../mesh/app/ali_config.c **** 	uuid->product_id = p_ali_cfg->pid;// PRODUCT ID
  81              		.loc 1 37 0
  82 0036 0E4B     		ldr	r3, .L2
  38:../../../mesh/app/ali_config.c **** 
  39:../../../mesh/app/ali_config.c **** 	uuid->feature_flag = (ALI_UUID_VER_2<<1) |BLE_ADV_STATE_UNPROV;
  40:../../../mesh/app/ali_config.c **** 	memset(uuid->rfu, 0, sizeof(uuid->rfu));
  41:../../../mesh/app/ali_config.c **** 	return true;
  42:../../../mesh/app/ali_config.c **** }
  83              		.loc 1 42 0
  84              		@ sp needed
  37:../../../mesh/app/ali_config.c **** 	uuid->product_id = p_ali_cfg->pid;// PRODUCT ID
  85              		.loc 1 37 0
  86 0038 1E68     		ldr	r6, [r3]
  87 003a 7278     		ldrb	r2, [r6, #1]
  88 003c 3078     		ldrb	r0, [r6]
  89 003e B378     		ldrb	r3, [r6, #2]
  90 0040 1202     		lsls	r2, r2, #8
  91 0042 0243     		orrs	r2, r0
  92 0044 1B04     		lsls	r3, r3, #16
  93 0046 1343     		orrs	r3, r2
  94 0048 1A00     		movs	r2, r3
  95 004a F378     		ldrb	r3, [r6, #3]
  40:../../../mesh/app/ali_config.c **** 	return true;
  96              		.loc 1 40 0
  97 004c 2000     		movs	r0, r4
  37:../../../mesh/app/ali_config.c **** 	uuid->product_id = p_ali_cfg->pid;// PRODUCT ID
  98              		.loc 1 37 0
  99 004e 1B06     		lsls	r3, r3, #24
 100 0050 1343     		orrs	r3, r2
  39:../../../mesh/app/ali_config.c **** 	memset(uuid->rfu, 0, sizeof(uuid->rfu));
 101              		.loc 1 39 0
 102 0052 0222     		movs	r2, #2
  37:../../../mesh/app/ali_config.c **** 
 103              		.loc 1 37 0
 104 0054 190A     		lsrs	r1, r3, #8
 105 0056 E370     		strb	r3, [r4, #3]
 106 0058 2171     		strb	r1, [r4, #4]
 107 005a 190C     		lsrs	r1, r3, #16
 108 005c 1B0E     		lsrs	r3, r3, #24
 109 005e 6171     		strb	r1, [r4, #5]
 110 0060 A371     		strb	r3, [r4, #6]
  39:../../../mesh/app/ali_config.c **** 	memset(uuid->rfu, 0, sizeof(uuid->rfu));
 111              		.loc 1 39 0
 112 0062 6273     		strb	r2, [r4, #13]
  40:../../../mesh/app/ali_config.c **** 	return true;
 113              		.loc 1 40 0
 114 0064 0021     		movs	r1, #0
 115 0066 0E30     		adds	r0, r0, #14
 116 0068 FFF7FEFF 		bl	memset
 117              	.LVL4:
 118              		.loc 1 42 0
 119 006c 2800     		movs	r0, r5
 120              	.LVL5:
 121 006e 76BD     		pop	{r1, r2, r4, r5, r6, pc}
 122              	.L3:
 123              		.align	2
 124              	.L2:
 125 0070 00000000 		.word	.LANCHOR0
 126              		.cfi_endproc
 127              	.LFE85:
 129              		.align	1
 130              		.global	ali_config_static_uuid_read
 131              		.code	16
 132              		.thumb_func
 134              	ali_config_static_uuid_read:
 135              	.LFB86:
  43:../../../mesh/app/ali_config.c **** 
  44:../../../mesh/app/ali_config.c **** bool ali_config_static_uuid_read(ali_uuid_t *uuid)
  45:../../../mesh/app/ali_config.c **** {
 136              		.loc 1 45 0
 137              		.cfi_startproc
 138              		@ args = 0, pretend = 0, frame = 8
 139              		@ frame_needed = 0, uses_anonymous_args = 0
 140              	.LVL6:
 141 0074 73B5     		push	{r0, r1, r4, r5, r6, lr}
 142              	.LCFI1:
 143              		.cfi_def_cfa_offset 24
 144              		.cfi_offset 0, -24
 145              		.cfi_offset 1, -20
 146              		.cfi_offset 4, -16
 147              		.cfi_offset 5, -12
 148              		.cfi_offset 6, -8
 149              		.cfi_offset 14, -4
 150              		.loc 1 45 0
 151 0076 0400     		movs	r4, r0
  46:../../../mesh/app/ali_config.c **** 	/** set device uuid */
  47:../../../mesh/app/ali_config.c **** 	uint8_t mac[FLASH_ALI_MAC_ADDR_LEN];
  48:../../../mesh/app/ali_config.c **** 	ali_config_mac_read(mac,0);
 152              		.loc 1 48 0
 153 0078 0021     		movs	r1, #0
 154 007a 6846     		mov	r0, sp
 155              	.LVL7:
 156 007c FFF7FEFF 		bl	ali_config_mac_read
 157              	.LVL8:
  49:../../../mesh/app/ali_config.c **** 
  50:../../../mesh/app/ali_config.c **** 	memcpy(uuid->mac_addr, mac, FLASH_ALI_MAC_ADDR_LEN);
 158              		.loc 1 50 0
 159 0080 6946     		mov	r1, sp
 160 0082 E01D     		adds	r0, r4, #7
 161 0084 0622     		movs	r2, #6
 162 0086 FFF7FEFF 		bl	memcpy
 163              	.LVL9:
  51:../../../mesh/app/ali_config.c **** 	uuid->cid = ALI_CID;
 164              		.loc 1 51 0
 165 008a 5823     		movs	r3, #88
  52:../../../mesh/app/ali_config.c **** 	uuid->pid.adv_ver = BLE_VER_4_2;
 166              		.loc 1 52 0
 167 008c 0F22     		movs	r2, #15
  51:../../../mesh/app/ali_config.c **** 	uuid->cid = ALI_CID;
 168              		.loc 1 51 0
 169 008e 0125     		movs	r5, #1
 170 0090 5B42     		rsbs	r3, r3, #0
 171 0092 2370     		strb	r3, [r4]
 172              		.loc 1 52 0
 173 0094 A378     		ldrb	r3, [r4, #2]
  51:../../../mesh/app/ali_config.c **** 	uuid->cid = ALI_CID;
 174              		.loc 1 51 0
 175 0096 6570     		strb	r5, [r4, #1]
 176              		.loc 1 52 0
 177 0098 9343     		bics	r3, r2
  53:../../../mesh/app/ali_config.c **** 	uuid->pid.sec = SEC_ONE_DEV_ONE_SECRET;
 178              		.loc 1 53 0
 179 009a 2B43     		orrs	r3, r5
  54:../../../mesh/app/ali_config.c **** 	uuid->pid.ota = OTA_UNSUPPORT;
 180              		.loc 1 54 0
 181 009c 5219     		adds	r2, r2, r5
 182 009e 1343     		orrs	r3, r2
  55:../../../mesh/app/ali_config.c **** 	uuid->pid.bt_ver = BLE_ADV_VER;
 183              		.loc 1 55 0
 184 00a0 0F32     		adds	r2, r2, #15
 185 00a2 1340     		ands	r3, r2
 186 00a4 2132     		adds	r2, r2, #33
 187 00a6 1343     		orrs	r3, r2
 188 00a8 A370     		strb	r3, [r4, #2]
  56:../../../mesh/app/ali_config.c **** 	uuid->product_id = p_ali_cfg->pid;// PRODUCT ID
 189              		.loc 1 56 0
 190 00aa 0F4B     		ldr	r3, .L5
  57:../../../mesh/app/ali_config.c **** 
  58:../../../mesh/app/ali_config.c **** 	uuid->feature_flag = (ALI_UUID_VER_2<<1) |BLE_ADV_STATE_STATIC;
  59:../../../mesh/app/ali_config.c **** 	memset(uuid->rfu, 0, sizeof(uuid->rfu));
  60:../../../mesh/app/ali_config.c **** 	return true;
  61:../../../mesh/app/ali_config.c **** }
 191              		.loc 1 61 0
 192              		@ sp needed
  56:../../../mesh/app/ali_config.c **** 	uuid->product_id = p_ali_cfg->pid;// PRODUCT ID
 193              		.loc 1 56 0
 194 00ac 1E68     		ldr	r6, [r3]
 195 00ae 7278     		ldrb	r2, [r6, #1]
 196 00b0 3078     		ldrb	r0, [r6]
 197 00b2 B378     		ldrb	r3, [r6, #2]
 198 00b4 1202     		lsls	r2, r2, #8
 199 00b6 0243     		orrs	r2, r0
 200 00b8 1B04     		lsls	r3, r3, #16
 201 00ba 1343     		orrs	r3, r2
 202 00bc 1A00     		movs	r2, r3
 203 00be F378     		ldrb	r3, [r6, #3]
  59:../../../mesh/app/ali_config.c **** 	return true;
 204              		.loc 1 59 0
 205 00c0 2000     		movs	r0, r4
  56:../../../mesh/app/ali_config.c **** 	uuid->product_id = p_ali_cfg->pid;// PRODUCT ID
 206              		.loc 1 56 0
 207 00c2 1B06     		lsls	r3, r3, #24
 208 00c4 1343     		orrs	r3, r2
 209 00c6 190A     		lsrs	r1, r3, #8
 210 00c8 E370     		strb	r3, [r4, #3]
 211 00ca 2171     		strb	r1, [r4, #4]
 212 00cc 190C     		lsrs	r1, r3, #16
 213 00ce 1B0E     		lsrs	r3, r3, #24
 214 00d0 A371     		strb	r3, [r4, #6]
  58:../../../mesh/app/ali_config.c **** 	memset(uuid->rfu, 0, sizeof(uuid->rfu));
 215              		.loc 1 58 0
 216 00d2 0323     		movs	r3, #3
  56:../../../mesh/app/ali_config.c **** 
 217              		.loc 1 56 0
 218 00d4 6171     		strb	r1, [r4, #5]
  58:../../../mesh/app/ali_config.c **** 	memset(uuid->rfu, 0, sizeof(uuid->rfu));
 219              		.loc 1 58 0
 220 00d6 6373     		strb	r3, [r4, #13]
  59:../../../mesh/app/ali_config.c **** 	return true;
 221              		.loc 1 59 0
 222 00d8 0222     		movs	r2, #2
 223 00da 0021     		movs	r1, #0
 224 00dc 0E30     		adds	r0, r0, #14
 225 00de FFF7FEFF 		bl	memset
 226              	.LVL10:
 227              		.loc 1 61 0
 228 00e2 2800     		movs	r0, r5
 229              	.LVL11:
 230 00e4 76BD     		pop	{r1, r2, r4, r5, r6, pc}
 231              	.L6:
 232 00e6 C046     		.align	2
 233              	.L5:
 234 00e8 00000000 		.word	.LANCHOR0
 235              		.cfi_endproc
 236              	.LFE86:
 238              		.align	1
 239              		.global	ali_config_auth_val_read
 240              		.code	16
 241              		.thumb_func
 243              	ali_config_auth_val_read:
 244              	.LFB87:
  62:../../../mesh/app/ali_config.c **** 
  63:../../../mesh/app/ali_config.c **** 
  64:../../../mesh/app/ali_config.c **** 
  65:../../../mesh/app/ali_config.c **** bool ali_config_auth_val_read(uint8_t *key)
  66:../../../mesh/app/ali_config.c **** {
 245              		.loc 1 66 0
 246              		.cfi_startproc
 247              		@ args = 0, pretend = 0, frame = 0
 248              		@ frame_needed = 0, uses_anonymous_args = 0
 249              	.LVL12:
 250              	.LBB3:
  67:../../../mesh/app/ali_config.c **** 	for(int i = 0; i < FLASH_ALI_SEC_LEN; ++i){
  68:../../../mesh/app/ali_config.c **** 		key[i] = p_ali_cfg->authval[FLASH_ALI_SEC_LEN - 1 - i];
 251              		.loc 1 68 0
 252 00ec 0B4B     		ldr	r3, .L11
 253              	.LBE3:
  66:../../../mesh/app/ali_config.c **** 	for(int i = 0; i < FLASH_ALI_SEC_LEN; ++i){
 254              		.loc 1 66 0
 255 00ee 10B5     		push	{r4, lr}
 256              	.LCFI2:
 257              		.cfi_def_cfa_offset 8
 258              		.cfi_offset 4, -8
 259              		.cfi_offset 14, -4
 260              	.LBB4:
 261              		.loc 1 68 0
 262 00f0 1B68     		ldr	r3, [r3]
 263              	.LBE4:
  66:../../../mesh/app/ali_config.c **** 	for(int i = 0; i < FLASH_ALI_SEC_LEN; ++i){
 264              		.loc 1 66 0
 265 00f2 0200     		movs	r2, r0
 266 00f4 1900     		movs	r1, r3
 267 00f6 0400     		movs	r4, r0
 268 00f8 2931     		adds	r1, r1, #41
 269 00fa 1933     		adds	r3, r3, #25
 270              	.LVL13:
 271              	.L8:
 272              	.LBB5:
 273              		.loc 1 68 0 discriminator 3
 274 00fc 0878     		ldrb	r0, [r1]
 275 00fe 0139     		subs	r1, r1, #1
 276 0100 2070     		strb	r0, [r4]
 277              	.LVL14:
 278 0102 0134     		adds	r4, r4, #1
 279              	.LVL15:
  67:../../../mesh/app/ali_config.c **** 	for(int i = 0; i < FLASH_ALI_SEC_LEN; ++i){
 280              		.loc 1 67 0 discriminator 3
 281 0104 9942     		cmp	r1, r3
 282 0106 F9D1     		bne	.L8
 283              	.LBE5:
  69:../../../mesh/app/ali_config.c **** 	}
  70:../../../mesh/app/ali_config.c ****     m_printf_hex(L_APP, "ali_config_auth_val_read", key, FLASH_ALI_SEC_LEN);
 284              		.loc 1 70 0
 285 0108 8020     		movs	r0, #128
 286 010a 0549     		ldr	r1, .L11+4
 287 010c 1023     		movs	r3, #16
 288 010e 0931     		adds	r1, r1, #9
 289 0110 8001     		lsls	r0, r0, #6
 290 0112 FFF7FEFF 		bl	m_printf_hex
 291              	.LVL16:
  71:../../../mesh/app/ali_config.c ****     return true;
  72:../../../mesh/app/ali_config.c **** }
 292              		.loc 1 72 0
 293              		@ sp needed
 294 0116 0120     		movs	r0, #1
 295              	.LVL17:
 296 0118 10BD     		pop	{r4, pc}
 297              	.L12:
 298 011a C046     		.align	2
 299              	.L11:
 300 011c 00000000 		.word	.LANCHOR0
 301 0120 00000000 		.word	.LANCHOR1
 302              		.cfi_endproc
 303              	.LFE87:
 305              		.align	1
 306              		.global	ali_config_pid_read
 307              		.code	16
 308              		.thumb_func
 310              	ali_config_pid_read:
 311              	.LFB88:
  73:../../../mesh/app/ali_config.c **** 
  74:../../../mesh/app/ali_config.c **** uint32_t ali_config_pid_read(void)
  75:../../../mesh/app/ali_config.c **** {
 312              		.loc 1 75 0
 313              		.cfi_startproc
 314              		@ args = 0, pretend = 0, frame = 0
 315              		@ frame_needed = 0, uses_anonymous_args = 0
  76:../../../mesh/app/ali_config.c **** 	M_PRINTF(L_APP, "product_id = %d\r\n", p_ali_cfg->pid);
 316              		.loc 1 76 0
 317 0124 1A4B     		ldr	r3, .L18
  75:../../../mesh/app/ali_config.c **** 	M_PRINTF(L_APP, "product_id = %d\r\n", p_ali_cfg->pid);
 318              		.loc 1 75 0
 319 0126 73B5     		push	{r0, r1, r4, r5, r6, lr}
 320              	.LCFI3:
 321              		.cfi_def_cfa_offset 24
 322              		.cfi_offset 0, -24
 323              		.cfi_offset 1, -20
 324              		.cfi_offset 4, -16
 325              		.cfi_offset 5, -12
 326              		.cfi_offset 6, -8
 327              		.cfi_offset 14, -4
 328              		.loc 1 76 0
 329 0128 1B68     		ldr	r3, [r3]
 330 012a 1A4D     		ldr	r5, .L18+4
 331 012c 9B04     		lsls	r3, r3, #18
 332 012e 21D5     		bpl	.L14
 333              		.loc 1 76 0 is_stmt 0 discriminator 5
 334 0130 194C     		ldr	r4, .L18+8
 335 0132 2300     		movs	r3, r4
 336 0134 2200     		movs	r2, r4
 337 0136 2000     		movs	r0, r4
 338 0138 5033     		adds	r3, r3, #80
 339 013a 3432     		adds	r2, r2, #52
 340 013c 0093     		str	r3, [sp]
 341 013e 2100     		movs	r1, r4
 342 0140 4C23     		movs	r3, #76
 343 0142 4130     		adds	r0, r0, #65
 344 0144 FFF7FEFF 		bl	m_print
 345              	.LVL18:
 346 0148 2E68     		ldr	r6, [r5]
 347 014a 7378     		ldrb	r3, [r6, #1]
 348 014c 3078     		ldrb	r0, [r6]
 349 014e B178     		ldrb	r1, [r6, #2]
 350 0150 1B02     		lsls	r3, r3, #8
 351 0152 0343     		orrs	r3, r0
 352 0154 0904     		lsls	r1, r1, #16
 353 0156 1A00     		movs	r2, r3
 354 0158 0B00     		movs	r3, r1
 355 015a 2000     		movs	r0, r4
 356 015c F178     		ldrb	r1, [r6, #3]
 357 015e 1343     		orrs	r3, r2
 358 0160 0906     		lsls	r1, r1, #24
 359 0162 1943     		orrs	r1, r3
 360 0164 6430     		adds	r0, r0, #100
 361 0166 FFF7FEFF 		bl	m_print
 362              	.LVL19:
 363 016a 2000     		movs	r0, r4
 364 016c A11D     		adds	r1, r4, #6
 365 016e 7630     		adds	r0, r0, #118
 366 0170 FFF7FEFF 		bl	m_print
 367              	.LVL20:
 368              	.L14:
  77:../../../mesh/app/ali_config.c ****    
  78:../../../mesh/app/ali_config.c ****     return p_ali_cfg->pid;
 369              		.loc 1 78 0 is_stmt 1
 370 0174 2C68     		ldr	r4, [r5]
  79:../../../mesh/app/ali_config.c **** }
 371              		.loc 1 79 0
 372              		@ sp needed
  78:../../../mesh/app/ali_config.c **** }
 373              		.loc 1 78 0
 374 0176 6378     		ldrb	r3, [r4, #1]
 375 0178 2178     		ldrb	r1, [r4]
 376 017a A078     		ldrb	r0, [r4, #2]
 377 017c 1B02     		lsls	r3, r3, #8
 378 017e 0B43     		orrs	r3, r1
 379 0180 0004     		lsls	r0, r0, #16
 380 0182 1A00     		movs	r2, r3
 381 0184 0300     		movs	r3, r0
 382 0186 E078     		ldrb	r0, [r4, #3]
 383 0188 1343     		orrs	r3, r2
 384 018a 0006     		lsls	r0, r0, #24
 385 018c 1843     		orrs	r0, r3
 386              		.loc 1 79 0
 387 018e 76BD     		pop	{r1, r2, r4, r5, r6, pc}
 388              	.L19:
 389              		.align	2
 390              	.L18:
 391 0190 00000000 		.word	L_LEV
 392 0194 00000000 		.word	.LANCHOR0
 393 0198 00000000 		.word	.LANCHOR1
 394              		.cfi_endproc
 395              	.LFE88:
 397              		.align	1
 398              		.global	ali_config_mac_read
 399              		.code	16
 400              		.thumb_func
 402              	ali_config_mac_read:
 403              	.LFB89:
  80:../../../mesh/app/ali_config.c **** 
  81:../../../mesh/app/ali_config.c **** bool ali_config_mac_read(uint8_t *addr,uint8_t mode) 
  82:../../../mesh/app/ali_config.c **** {
 404              		.loc 1 82 0
 405              		.cfi_startproc
 406              		@ args = 0, pretend = 0, frame = 0
 407              		@ frame_needed = 0, uses_anonymous_args = 0
 408              	.LVL21:
 409 019c 10B5     		push	{r4, lr}
 410              	.LCFI4:
 411              		.cfi_def_cfa_offset 8
 412              		.cfi_offset 4, -8
 413              		.cfi_offset 14, -4
 414 019e 094B     		ldr	r3, .L25
  83:../../../mesh/app/ali_config.c ****     if(mode){
 415              		.loc 1 83 0
 416 01a0 0029     		cmp	r1, #0
 417 01a2 05D0     		beq	.L21
 418              	.LVL22:
 419              	.LBB10:
 420              	.LBB11:
  84:../../../mesh/app/ali_config.c ****         memcpy(addr,  p_ali_cfg->mac, FLASH_ALI_MAC_ADDR_LEN);
 421              		.loc 1 84 0
 422 01a4 1968     		ldr	r1, [r3]
 423              	.LVL23:
 424 01a6 0622     		movs	r2, #6
 425 01a8 0431     		adds	r1, r1, #4
 426 01aa FFF7FEFF 		bl	memcpy
 427              	.LVL24:
 428 01ae 06E0     		b	.L22
 429              	.LVL25:
 430              	.L21:
 431              	.LBE11:
 432              	.LBE10:
 433              	.LBB12:
  85:../../../mesh/app/ali_config.c ****     
  86:../../../mesh/app/ali_config.c ****     }else{
  87:../../../mesh/app/ali_config.c ****         for(int i = 0; i < FLASH_ALI_MAC_ADDR_LEN; ++i){
  88:../../../mesh/app/ali_config.c ****             addr[i] =  p_ali_cfg->mac[FLASH_ALI_MAC_ADDR_LEN - 1 - i];
 434              		.loc 1 88 0
 435 01b0 1A68     		ldr	r2, [r3]
 436              	.LVL26:
 437              	.L23:
 438              		.loc 1 88 0 is_stmt 0 discriminator 3
 439 01b2 531A     		subs	r3, r2, r1
 440 01b4 5B7A     		ldrb	r3, [r3, #9]
 441 01b6 4354     		strb	r3, [r0, r1]
  87:../../../mesh/app/ali_config.c ****             addr[i] =  p_ali_cfg->mac[FLASH_ALI_MAC_ADDR_LEN - 1 - i];
 442              		.loc 1 87 0 is_stmt 1 discriminator 3
 443 01b8 0131     		adds	r1, r1, #1
 444              	.LVL27:
 445 01ba 0629     		cmp	r1, #6
 446 01bc F9D1     		bne	.L23
 447              	.LVL28:
 448              	.L22:
 449              	.LBE12:
  89:../../../mesh/app/ali_config.c ****         }
  90:../../../mesh/app/ali_config.c ****     }
  91:../../../mesh/app/ali_config.c **** 
  92:../../../mesh/app/ali_config.c **** 	//m_printf_hex(L_APP, "ali mac read", addr, FLASH_ALI_MAC_ADDR_LEN);
  93:../../../mesh/app/ali_config.c ****     return true;
  94:../../../mesh/app/ali_config.c **** }
 450              		.loc 1 94 0
 451 01be 0120     		movs	r0, #1
 452              		@ sp needed
 453 01c0 10BD     		pop	{r4, pc}
 454              	.L26:
 455 01c2 C046     		.align	2
 456              	.L25:
 457 01c4 00000000 		.word	.LANCHOR0
 458              		.cfi_endproc
 459              	.LFE89:
 461              		.align	1
 462              		.global	ali_config_device_type_get
 463              		.code	16
 464              		.thumb_func
 466              	ali_config_device_type_get:
 467              	.LFB90:
  95:../../../mesh/app/ali_config.c **** 
  96:../../../mesh/app/ali_config.c **** uint8_t ali_config_device_type_get(void)
  97:../../../mesh/app/ali_config.c **** {
 468              		.loc 1 97 0
 469              		.cfi_startproc
 470              		@ args = 0, pretend = 0, frame = 0
 471              		@ frame_needed = 0, uses_anonymous_args = 0
 472              		@ link register save eliminated.
  98:../../../mesh/app/ali_config.c **** 	return p_ali_cfg->ptype;
 473              		.loc 1 98 0
 474 01c8 024B     		ldr	r3, .L28
  99:../../../mesh/app/ali_config.c **** }
 475              		.loc 1 99 0
 476              		@ sp needed
  98:../../../mesh/app/ali_config.c **** 	return p_ali_cfg->ptype;
 477              		.loc 1 98 0
 478 01ca 1B68     		ldr	r3, [r3]
 479 01cc 2A33     		adds	r3, r3, #42
 480 01ce 1878     		ldrb	r0, [r3]
 481              		.loc 1 99 0
 482 01d0 7047     		bx	lr
 483              	.L29:
 484 01d2 C046     		.align	2
 485              	.L28:
 486 01d4 00000000 		.word	.LANCHOR0
 487              		.cfi_endproc
 488              	.LFE90:
 490              		.align	1
 491              		.global	ali_config_data_init
 492              		.code	16
 493              		.thumb_func
 495              	ali_config_data_init:
 496              	.LFB91:
 100:../../../mesh/app/ali_config.c **** 
 101:../../../mesh/app/ali_config.c **** bool ali_config_data_init(void)
 102:../../../mesh/app/ali_config.c **** {
 497              		.loc 1 102 0
 498              		.cfi_startproc
 499              		@ args = 0, pretend = 0, frame = 0
 500              		@ frame_needed = 0, uses_anonymous_args = 0
 501 01d8 73B5     		push	{r0, r1, r4, r5, r6, lr}
 502              	.LCFI5:
 503              		.cfi_def_cfa_offset 24
 504              		.cfi_offset 0, -24
 505              		.cfi_offset 1, -20
 506              		.cfi_offset 4, -16
 507              		.cfi_offset 5, -12
 508              		.cfi_offset 6, -8
 509              		.cfi_offset 14, -4
 103:../../../mesh/app/ali_config.c **** 	p_ali_cfg = ke_malloc(sizeof(ali_cfg_t), 0);
 510              		.loc 1 103 0
 511 01da 0021     		movs	r1, #0
 512 01dc 2C20     		movs	r0, #44
 513 01de FFF7FEFF 		bl	ke_malloc
 514              	.LVL29:
 515 01e2 194D     		ldr	r5, .L37
 516 01e4 021E     		subs	r2, r0, #0
 517 01e6 2860     		str	r0, [r5]
 104:../../../mesh/app/ali_config.c **** 	if(p_ali_cfg == NULL)
 518              		.loc 1 104 0
 519 01e8 2DD0     		beq	.L31
 105:../../../mesh/app/ali_config.c **** 		return false;
 106:../../../mesh/app/ali_config.c **** 	mesh_flash_read(FLASH_ALI_DATA_ADDRESS, sizeof(ali_cfg_t), (uint8_t*)p_ali_cfg);
 520              		.loc 1 106 0
 521 01ea FA20     		movs	r0, #250
 522 01ec 2C21     		movs	r1, #44
 523 01ee C002     		lsls	r0, r0, #11
 524 01f0 FFF7FEFF 		bl	mesh_flash_read
 525              	.LVL30:
 107:../../../mesh/app/ali_config.c **** 	uint8_t crc = bc_sys_check_sum((uint8_t *)p_ali_cfg, sizeof(ali_cfg_t)-1);
 526              		.loc 1 107 0
 527 01f4 2B21     		movs	r1, #43
 528 01f6 2868     		ldr	r0, [r5]
 529 01f8 FFF7FEFF 		bl	bc_sys_check_sum
 530              	.LVL31:
 108:../../../mesh/app/ali_config.c **** 	M_PRINTF(L_APP, "crcc[%x] crcs[%x]", crc, p_ali_cfg->crc);
 531              		.loc 1 108 0
 532 01fc 134B     		ldr	r3, .L37+4
 107:../../../mesh/app/ali_config.c **** 	uint8_t crc = bc_sys_check_sum((uint8_t *)p_ali_cfg, sizeof(ali_cfg_t)-1);
 533              		.loc 1 107 0
 534 01fe 0600     		movs	r6, r0
 535              	.LVL32:
 536              		.loc 1 108 0
 537 0200 1B68     		ldr	r3, [r3]
 538 0202 9B04     		lsls	r3, r3, #18
 539 0204 18D5     		bpl	.L32
 540              		.loc 1 108 0 is_stmt 0 discriminator 5
 541 0206 124C     		ldr	r4, .L37+8
 542 0208 2300     		movs	r3, r4
 543 020a 2200     		movs	r2, r4
 544 020c 2000     		movs	r0, r4
 545 020e 7933     		adds	r3, r3, #121
 546 0210 3432     		adds	r2, r2, #52
 547 0212 0093     		str	r3, [sp]
 548 0214 2100     		movs	r1, r4
 549 0216 6C23     		movs	r3, #108
 550 0218 4130     		adds	r0, r0, #65
 551 021a FFF7FEFF 		bl	m_print
 552              	.LVL33:
 553 021e 2B68     		ldr	r3, [r5]
 554 0220 0C48     		ldr	r0, .L37+12
 555 0222 2B33     		adds	r3, r3, #43
 556 0224 3100     		movs	r1, r6
 557 0226 1A78     		ldrb	r2, [r3]
 558 0228 0E30     		adds	r0, r0, #14
 559 022a FFF7FEFF 		bl	m_print
 560              	.LVL34:
 561 022e 2000     		movs	r0, r4
 562 0230 A11D     		adds	r1, r4, #6
 563 0232 7630     		adds	r0, r0, #118
 564 0234 FFF7FEFF 		bl	m_print
 565              	.LVL35:
 566              	.L32:
 109:../../../mesh/app/ali_config.c **** 	if(p_ali_cfg->crc != crc){		
 567              		.loc 1 109 0 is_stmt 1
 568 0238 2B68     		ldr	r3, [r5]
 569 023a 2B33     		adds	r3, r3, #43
 570 023c 1878     		ldrb	r0, [r3]
 571 023e 801B     		subs	r0, r0, r6
 572 0240 4242     		rsbs	r2, r0, #0
 573 0242 4241     		adcs	r2, r2, r0
 574 0244 D0B2     		uxtb	r0, r2
 575              	.LVL36:
 576              	.L31:
 110:../../../mesh/app/ali_config.c **** 		return false;
 111:../../../mesh/app/ali_config.c **** 	}
 112:../../../mesh/app/ali_config.c **** 	return true;
 113:../../../mesh/app/ali_config.c **** }
 577              		.loc 1 113 0
 578              		@ sp needed
 579 0246 76BD     		pop	{r1, r2, r4, r5, r6, pc}
 580              	.L38:
 581              		.align	2
 582              	.L37:
 583 0248 00000000 		.word	.LANCHOR0
 584 024c 00000000 		.word	L_LEV
 585 0250 00000000 		.word	.LANCHOR1
 586 0254 80000000 		.word	.LANCHOR2
 587              		.cfi_endproc
 588              	.LFE91:
 590              		.section	.rodata
 591              		.set	.LANCHOR1,. + 0
 592              		.set	.LANCHOR2,. + 128
 595              	lgs:
 596 0000 5B4D4C47 		.ascii	"[MLG]\000"
 596      5D00
 599              	lge:
 600 0006 0D0A00   		.ascii	"\015\012\000"
 601              	.LC5:
 602 0009 616C695F 		.ascii	"ali_config_auth_val_read\000"
 602      636F6E66 
 602      69675F61 
 602      7574685F 
 602      76616C5F 
 603              	.LC8:
 604 0022 2E2E2F2E 		.ascii	"../../../mesh/app/ali_config.c\000"
 604      2E2F2E2E 
 604      2F6D6573 
 604      682F6170 
 604      702F616C 
 605              	.LC10:
 606 0041 25735B25 		.ascii	"%s[%10s:%d]%s:\000"
 606      3130733A 
 606      25645D25 
 606      733A00
 609              	__FUNCTION__.8871:
 610 0050 616C695F 		.ascii	"ali_config_pid_read\000"
 610      636F6E66 
 610      69675F70 
 610      69645F72 
 610      65616400 
 611              	.LC12:
 612 0064 70726F64 		.ascii	"product_id = %d\015\012\000"
 612      7563745F 
 612      6964203D 
 612      2025640D 
 612      0A00
 613              	.LC13:
 614 0076 257300   		.ascii	"%s\000"
 617              	__FUNCTION__.8888:
 618 0079 616C695F 		.ascii	"ali_config_data_init\000"
 618      636F6E66 
 618      69675F64 
 618      6174615F 
 618      696E6974 
 619              	.LC25:
 620 008e 63726363 		.ascii	"crcc[%x] crcs[%x]\000"
 620      5B25785D 
 620      20637263 
 620      735B2578 
 620      5D00
 621              		.bss
 622              		.align	2
 623              		.set	.LANCHOR0,. + 0
 626              	p_ali_cfg:
 627 0000 00000000 		.space	4
 628              		.text
 629              	.Letext0:
 630              		.file 2 "d:\\meshstack\\bc6218\\tools\\gcc-arm-none-eabi-5_4-2016q3-20160926-win32\\arm-none-eabi\
 631              		.file 3 "d:\\meshstack\\bc6218\\tools\\gcc-arm-none-eabi-5_4-2016q3-20160926-win32\\arm-none-eabi\
 632              		.file 4 "../../../mesh/app/ali_config.h"
 633              		.file 5 "../../../mesh/common/api/co_log.h"
 634              		.file 6 "../../../mesh/port/port.h"
 635              		.file 7 "../../../mesh/port/portBle.h"
 636              		.file 8 "../../../device/inc/bc_sys.h"
 637              		.file 9 "../../../mesh/include/gap.h"
