   1              		.syntax unified
   2              		.cpu cortex-m0
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 4
  11              		.eabi_attribute 34, 0
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.syntax unified
  15              		.file	"system.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.align	1
  20              		.global	_fstat
  21              		.code	16
  22              		.thumb_func
  24              	_fstat:
  25              	.LFB41:
  26              		.file 1 "../../../device/system.c"
   1:../../../device/system.c **** #include <stdio.h>
   2:../../../device/system.c **** #include <sys/stat.h>
   3:../../../device/system.c **** #include "bc62xx_ble.h"
   4:../../../device/system.c **** //#include "Drv_debug.h"
   5:../../../device/system.c **** 
   6:../../../device/system.c **** int _fstat (int fd, struct stat *pStat)
   7:../../../device/system.c **** {
  27              		.loc 1 7 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  32              	.LVL0:
   8:../../../device/system.c **** 	pStat->st_mode = S_IFCHR;
  33              		.loc 1 8 0
  34 0000 8023     		movs	r3, #128
  35 0002 9B01     		lsls	r3, r3, #6
   9:../../../device/system.c **** 	return 0;
  10:../../../device/system.c **** }
  36              		.loc 1 10 0
  37 0004 0020     		movs	r0, #0
  38              	.LVL1:
   8:../../../device/system.c **** 	pStat->st_mode = S_IFCHR;
  39              		.loc 1 8 0
  40 0006 4B60     		str	r3, [r1, #4]
  41              		.loc 1 10 0
  42              		@ sp needed
  43 0008 7047     		bx	lr
  44              		.cfi_endproc
  45              	.LFE41:
  47              		.align	1
  48              		.global	_close
  49              		.code	16
  50              		.thumb_func
  52              	_close:
  53              	.LFB42:
  11:../../../device/system.c **** 
  12:../../../device/system.c **** int _close(int fd)
  13:../../../device/system.c **** {
  54              		.loc 1 13 0
  55              		.cfi_startproc
  56              		@ args = 0, pretend = 0, frame = 0
  57              		@ frame_needed = 0, uses_anonymous_args = 0
  58              		@ link register save eliminated.
  59              	.LVL2:
  14:../../../device/system.c **** 	return -1;
  15:../../../device/system.c **** }
  60              		.loc 1 15 0
  61 000a 0120     		movs	r0, #1
  62              	.LVL3:
  63              		@ sp needed
  64 000c 4042     		rsbs	r0, r0, #0
  65 000e 7047     		bx	lr
  66              		.cfi_endproc
  67              	.LFE42:
  69              		.align	1
  70              		.global	_write
  71              		.code	16
  72              		.thumb_func
  74              	_write:
  75              	.LFB43:
  16:../../../device/system.c **** 
  17:../../../device/system.c **** extern void UART_PutChar(char c);
  18:../../../device/system.c **** int _write (int fd, char *ptr, int len)
  19:../../../device/system.c **** {
  76              		.loc 1 19 0
  77              		.cfi_startproc
  78              		@ args = 0, pretend = 0, frame = 0
  79              		@ frame_needed = 0, uses_anonymous_args = 0
  80              	.LVL4:
  81 0010 70B5     		push	{r4, r5, r6, lr}
  82              	.LCFI0:
  83              		.cfi_def_cfa_offset 16
  84              		.cfi_offset 4, -16
  85              		.cfi_offset 5, -12
  86              		.cfi_offset 6, -8
  87              		.cfi_offset 14, -4
  88              		.loc 1 19 0
  89 0012 0E00     		movs	r6, r1
  90 0014 1400     		movs	r4, r2
  91 0016 0D00     		movs	r5, r1
  20:../../../device/system.c **** 	int i = 0;
  21:../../../device/system.c **** 
  22:../../../device/system.c **** 	if (fd > 2)
  92              		.loc 1 22 0
  93 0018 0228     		cmp	r0, #2
  94 001a 09DC     		bgt	.L10
  95              	.LVL5:
  96              	.L5:
  23:../../../device/system.c **** 		return -1;
  24:../../../device/system.c **** 
  25:../../../device/system.c **** 	while(*ptr && (i < len))\
  97              		.loc 1 25 0
  98 001c 2878     		ldrb	r0, [r5]
  99 001e 0028     		cmp	r0, #0
 100 0020 09D0     		beq	.L8
 101              		.loc 1 25 0 is_stmt 0 discriminator 1
 102 0022 AB1B     		subs	r3, r5, r6
 103              	.LVL6:
 104 0024 9C42     		cmp	r4, r3
 105 0026 06DD     		ble	.L8
  26:../../../device/system.c **** 	{
  27:../../../device/system.c **** 		UART_PutChar(*ptr);
 106              		.loc 1 27 0 is_stmt 1
 107 0028 FFF7FEFF 		bl	UART_PutChar
 108              	.LVL7:
  28:../../../device/system.c **** 		i++;
  29:../../../device/system.c **** 		ptr++;
 109              		.loc 1 29 0
 110 002c 0135     		adds	r5, r5, #1
 111              	.LVL8:
 112 002e F5E7     		b	.L5
 113              	.LVL9:
 114              	.L10:
  23:../../../device/system.c **** 
 115              		.loc 1 23 0
 116 0030 0120     		movs	r0, #1
 117              	.LVL10:
 118 0032 4042     		rsbs	r0, r0, #0
 119 0034 00E0     		b	.L4
 120              	.LVL11:
 121              	.L8:
 122 0036 2000     		movs	r0, r4
 123              	.LVL12:
 124              	.L4:
  30:../../../device/system.c **** 	}
  31:../../../device/system.c ****    
  32:../../../device/system.c ****  	return len;
  33:../../../device/system.c **** }
 125              		.loc 1 33 0
 126              		@ sp needed
 127              	.LVL13:
 128              	.LVL14:
 129 0038 70BD     		pop	{r4, r5, r6, pc}
 130              		.cfi_endproc
 131              	.LFE43:
 133              		.align	1
 134              		.global	_isatty
 135              		.code	16
 136              		.thumb_func
 138              	_isatty:
 139              	.LFB44:
  34:../../../device/system.c **** 
  35:../../../device/system.c **** int _isatty (int fd)
  36:../../../device/system.c **** {
 140              		.loc 1 36 0
 141              		.cfi_startproc
 142              		@ args = 0, pretend = 0, frame = 0
 143              		@ frame_needed = 0, uses_anonymous_args = 0
 144              		@ link register save eliminated.
 145              	.LVL15:
  37:../../../device/system.c **** 	return 1;
  38:../../../device/system.c **** }
 146              		.loc 1 38 0
 147 003a 0120     		movs	r0, #1
 148              	.LVL16:
 149              		@ sp needed
 150 003c 7047     		bx	lr
 151              		.cfi_endproc
 152              	.LFE44:
 154              		.align	1
 155              		.global	_lseek
 156              		.code	16
 157              		.thumb_func
 159              	_lseek:
 160              	.LFB45:
  39:../../../device/system.c **** 
  40:../../../device/system.c **** int _lseek(int fd, int offset, int fromwhere)
  41:../../../device/system.c **** {
 161              		.loc 1 41 0
 162              		.cfi_startproc
 163              		@ args = 0, pretend = 0, frame = 0
 164              		@ frame_needed = 0, uses_anonymous_args = 0
 165              		@ link register save eliminated.
 166              	.LVL17:
  42:../../../device/system.c **** 	return 0;
  43:../../../device/system.c **** }
 167              		.loc 1 43 0
 168 003e 0020     		movs	r0, #0
 169              	.LVL18:
 170              		@ sp needed
 171 0040 7047     		bx	lr
 172              		.cfi_endproc
 173              	.LFE45:
 175              		.align	1
 176              		.global	_read
 177              		.code	16
 178              		.thumb_func
 180              	_read:
 181              	.LFB46:
  44:../../../device/system.c **** 
  45:../../../device/system.c **** int _read (int fd, char *pBuffer, int size)
  46:../../../device/system.c **** {
 182              		.loc 1 46 0
 183              		.cfi_startproc
 184              		@ args = 0, pretend = 0, frame = 0
 185              		@ frame_needed = 0, uses_anonymous_args = 0
 186              		@ link register save eliminated.
 187              	.LVL19:
  47:../../../device/system.c **** 	return 0;
  48:../../../device/system.c **** }
 188              		.loc 1 48 0
 189 0042 0020     		movs	r0, #0
 190              	.LVL20:
 191              		@ sp needed
 192 0044 7047     		bx	lr
 193              		.cfi_endproc
 194              	.LFE46:
 196              		.align	1
 197              		.global	_sbrk
 198              		.code	16
 199              		.thumb_func
 201              	_sbrk:
 202              	.LFB47:
  49:../../../device/system.c **** 
  50:../../../device/system.c **** caddr_t _sbrk(int increment)
  51:../../../device/system.c **** {
 203              		.loc 1 51 0
 204              		.cfi_startproc
 205              		@ args = 0, pretend = 0, frame = 0
 206              		@ frame_needed = 0, uses_anonymous_args = 0
 207              		@ link register save eliminated.
 208              	.LVL21:
  52:../../../device/system.c **** 	extern char end asm("end");
  53:../../../device/system.c **** 	register char *pStack asm("sp");
  54:../../../device/system.c **** 	static char *s_pHeapEnd;
  55:../../../device/system.c **** 	if (!s_pHeapEnd)
 209              		.loc 1 55 0
 210 0046 084B     		ldr	r3, .L18
  51:../../../device/system.c **** 	extern char end asm("end");
 211              		.loc 1 51 0
 212 0048 0200     		movs	r2, r0
 213              		.loc 1 55 0
 214 004a 1968     		ldr	r1, [r3]
 215 004c 0029     		cmp	r1, #0
 216 004e 01D1     		bne	.L15
  56:../../../device/system.c **** 		s_pHeapEnd = &end;
 217              		.loc 1 56 0
 218 0050 0649     		ldr	r1, .L18+4
 219 0052 1960     		str	r1, [r3]
 220              	.L15:
  57:../../../device/system.c **** 
  58:../../../device/system.c **** 	if (s_pHeapEnd + increment > pStack)
 221              		.loc 1 58 0
 222 0054 6946     		mov	r1, sp
 223 0056 1868     		ldr	r0, [r3]
 224              	.LVL22:
 225 0058 8218     		adds	r2, r0, r2
 226              	.LVL23:
 227 005a 8A42     		cmp	r2, r1
 228 005c 01D8     		bhi	.L17
 229              	.LVL24:
  59:../../../device/system.c **** 		return (caddr_t)-1;
  60:../../../device/system.c **** 
  61:../../../device/system.c **** 	char *pOldHeapEnd = s_pHeapEnd;
  62:../../../device/system.c **** 	s_pHeapEnd += increment;
 230              		.loc 1 62 0
 231 005e 1A60     		str	r2, [r3]
  63:../../../device/system.c **** 	return (caddr_t)pOldHeapEnd;
 232              		.loc 1 63 0
 233 0060 01E0     		b	.L16
 234              	.LVL25:
 235              	.L17:
  59:../../../device/system.c **** 		return (caddr_t)-1;
 236              		.loc 1 59 0
 237 0062 0120     		movs	r0, #1
 238 0064 4042     		rsbs	r0, r0, #0
 239              	.L16:
  64:../../../device/system.c **** }
 240              		.loc 1 64 0
 241              		@ sp needed
 242 0066 7047     		bx	lr
 243              	.L19:
 244              		.align	2
 245              	.L18:
 246 0068 00000000 		.word	.LANCHOR0
 247 006c 00000000 		.word	end
 248              		.cfi_endproc
 249              	.LFE47:
 251              		.align	1
 252              		.global	_exit
 253              		.code	16
 254              		.thumb_func
 256              	_exit:
 257              	.LFB48:
  65:../../../device/system.c **** 
  66:../../../device/system.c **** void _exit(int status)
  67:../../../device/system.c **** {
 258              		.loc 1 67 0
 259              		.cfi_startproc
 260              		@ Volatile: function does not return.
 261              		@ args = 0, pretend = 0, frame = 0
 262              		@ frame_needed = 0, uses_anonymous_args = 0
 263              		@ link register save eliminated.
 264              	.LVL26:
 265              	.L21:
 266 0070 FEE7     		b	.L21
 267              		.cfi_endproc
 268              	.LFE48:
 270              		.align	1
 271              		.global	Default_Handler
 272              		.code	16
 273              		.thumb_func
 275              	Default_Handler:
 276              	.LFB49:
  68:../../../device/system.c **** 	while(1);
  69:../../../device/system.c **** }
  70:../../../device/system.c **** 
  71:../../../device/system.c **** 
  72:../../../device/system.c **** void Default_Handler(void)
  73:../../../device/system.c **** {
 277              		.loc 1 73 0
 278              		.cfi_startproc
 279              		@ Volatile: function does not return.
 280              		@ args = 0, pretend = 0, frame = 0
 281              		@ frame_needed = 0, uses_anonymous_args = 0
 282              		.loc 1 73 0
 283 0072 10B5     		push	{r4, lr}
 284              	.LCFI1:
 285              		.cfi_def_cfa_offset 8
 286              		.cfi_offset 4, -8
 287              		.cfi_offset 14, -4
  74:../../../device/system.c **** 	printf("\r\n\r\nDefault_Handler\r\n\r\n");
 288              		.loc 1 74 0
 289 0074 0148     		ldr	r0, .L24
 290 0076 FFF7FEFF 		bl	puts
 291              	.LVL27:
 292              	.L23:
 293 007a FEE7     		b	.L23
 294              	.L25:
 295              		.align	2
 296              	.L24:
 297 007c 00000000 		.word	.LANCHOR1
 298              		.cfi_endproc
 299              	.LFE49:
 301              		.section	.rodata
 302              		.set	.LANCHOR1,. + 0
 303              	.LC4:
 304 0000 0D0A0D0A 		.ascii	"\015\012\015\012Default_Handler\015\012\015\000"
 304      44656661 
 304      756C745F 
 304      48616E64 
 304      6C65720D 
 305              		.bss
 306              		.align	2
 307              		.set	.LANCHOR0,. + 0
 310              	s_pHeapEnd.6364:
 311 0000 00000000 		.space	4
 312              		.text
 313              	.Letext0:
 314              		.file 2 "d:\\mesh\\meshstack\\bc6218\\tools\\gcc-arm-none-eabi-5_4-2016q3-20160926-win32\\arm-none
 315              		.file 3 "d:\\mesh\\meshstack\\bc6218\\tools\\gcc-arm-none-eabi-5_4-2016q3-20160926-win32\\arm-none
 316              		.file 4 "d:\\mesh\\meshstack\\bc6218\\tools\\gcc-arm-none-eabi-5_4-2016q3-20160926-win32\\arm-none
 317              		.file 5 "d:\\mesh\\meshstack\\bc6218\\tools\\gcc-arm-none-eabi-5_4-2016q3-20160926-win32\\arm-none
 318              		.file 6 "d:\\mesh\\meshstack\\bc6218\\tools\\gcc-arm-none-eabi-5_4-2016q3-20160926-win32\\arm-none
 319              		.file 7 "<built-in>"
